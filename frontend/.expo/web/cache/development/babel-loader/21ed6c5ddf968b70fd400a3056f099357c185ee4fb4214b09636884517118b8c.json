{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { marketAPI } from \"../../services/api\";\nexport var fetchCrops = createAsyncThunk('market/fetchCrops', function () {\n  var _ref2 = _asyncToGenerator(function* (params, _ref) {\n    var rejectWithValue = _ref.rejectWithValue;\n    try {\n      var response = yield marketAPI.getCrops(params);\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      return rejectWithValue(((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.error) || 'Failed to fetch crops');\n    }\n  });\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var fetchCropDetails = createAsyncThunk('market/fetchCropDetails', function () {\n  var _ref4 = _asyncToGenerator(function* (id, _ref3) {\n    var rejectWithValue = _ref3.rejectWithValue;\n    try {\n      var response = yield marketAPI.getCropDetails(id);\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      return rejectWithValue(((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || 'Failed to fetch crop details');\n    }\n  });\n  return function (_x3, _x4) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nvar marketSlice = createSlice({\n  name: 'market',\n  initialState: {\n    crops: [],\n    currentCrop: null,\n    insights: null,\n    isLoading: false,\n    error: null,\n    pagination: null\n  },\n  reducers: {\n    clearCurrentCrop: function clearCurrentCrop(state) {\n      state.currentCrop = null;\n      state.insights = null;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(fetchCrops.pending, function (state) {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(fetchCrops.fulfilled, function (state, action) {\n      state.isLoading = false;\n      state.crops = action.payload.crops;\n      state.pagination = action.payload.pagination;\n    }).addCase(fetchCrops.rejected, function (state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n    }).addCase(fetchCropDetails.pending, function (state) {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(fetchCropDetails.fulfilled, function (state, action) {\n      state.isLoading = false;\n      state.currentCrop = action.payload.crop;\n      state.insights = action.payload.insights;\n    }).addCase(fetchCropDetails.rejected, function (state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n});\nvar clearCurrentCrop = marketSlice.actions.clearCurrentCrop;\nexport { clearCurrentCrop };\nexport default marketSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","marketAPI","fetchCrops","_ref2","_asyncToGenerator","params","_ref","rejectWithValue","response","getCrops","data","error","_error$response","_error$response$data","_x","_x2","apply","arguments","fetchCropDetails","_ref4","id","_ref3","getCropDetails","_error$response2","_error$response2$data","_x3","_x4","marketSlice","name","initialState","crops","currentCrop","insights","isLoading","pagination","reducers","clearCurrentCrop","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","crop","actions","reducer"],"sources":["C:/Users/vamsi/Desktop/DeepseekM5/frontend/src/store/slices/marketSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { marketAPI } from '../../services/api';\r\n\r\nexport const fetchCrops = createAsyncThunk(\r\n    'market/fetchCrops',\r\n    async (params, { rejectWithValue }) => {\r\n        try {\r\n            const response = await marketAPI.getCrops(params);\r\n            return response.data;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data?.error || 'Failed to fetch crops');\r\n        }\r\n    }\r\n);\r\n\r\nexport const fetchCropDetails = createAsyncThunk(\r\n    'market/fetchCropDetails',\r\n    async (id, { rejectWithValue }) => {\r\n        try {\r\n            const response = await marketAPI.getCropDetails(id);\r\n            return response.data;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data?.error || 'Failed to fetch crop details');\r\n        }\r\n    }\r\n);\r\n\r\nconst marketSlice = createSlice({\r\n    name: 'market',\r\n    initialState: {\r\n        crops: [],\r\n        currentCrop: null,\r\n        insights: null,\r\n        isLoading: false,\r\n        error: null,\r\n        pagination: null\r\n    },\r\n    reducers: {\r\n        clearCurrentCrop: (state) => {\r\n            state.currentCrop = null;\r\n            state.insights = null;\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchCrops.pending, (state) => {\r\n                state.isLoading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchCrops.fulfilled, (state, action) => {\r\n                state.isLoading = false;\r\n                state.crops = action.payload.crops;\r\n                state.pagination = action.payload.pagination;\r\n            })\r\n            .addCase(fetchCrops.rejected, (state, action) => {\r\n                state.isLoading = false;\r\n                state.error = action.payload;\r\n            })\r\n            .addCase(fetchCropDetails.pending, (state) => {\r\n                state.isLoading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchCropDetails.fulfilled, (state, action) => {\r\n                state.isLoading = false;\r\n                state.currentCrop = action.payload.crop;\r\n                state.insights = action.payload.insights;\r\n            })\r\n            .addCase(fetchCropDetails.rejected, (state, action) => {\r\n                state.isLoading = false;\r\n                state.error = action.payload;\r\n            });\r\n    }\r\n});\r\n\r\nexport const { clearCurrentCrop } = marketSlice.actions;\r\nexport default marketSlice.reducer;\r\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,SAASC,SAAS;AAElB,OAAO,IAAMC,UAAU,GAAGF,gBAAgB,CACtC,mBAAmB;EAAA,IAAAG,KAAA,GAAAC,iBAAA,CACnB,WAAOC,MAAM,EAAAC,IAAA,EAA0B;IAAA,IAAtBC,eAAe,GAAAD,IAAA,CAAfC,eAAe;IAC5B,IAAI;MACA,IAAMC,QAAQ,SAASP,SAAS,CAACQ,QAAQ,CAACJ,MAAM,CAAC;MACjD,OAAOG,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACZ,OAAON,eAAe,CAAC,EAAAK,eAAA,GAAAD,KAAK,CAACH,QAAQ,sBAAAK,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,qBAApBG,oBAAA,CAAsBF,KAAK,KAAI,uBAAuB,CAAC;IAClF;EACJ,CAAC;EAAA,iBAAAG,EAAA,EAAAC,GAAA;IAAA,OAAAZ,KAAA,CAAAa,KAAA,OAAAC,SAAA;EAAA;AAAA,GACL,CAAC;AAED,OAAO,IAAMC,gBAAgB,GAAGlB,gBAAgB,CAC5C,yBAAyB;EAAA,IAAAmB,KAAA,GAAAf,iBAAA,CACzB,WAAOgB,EAAE,EAAAC,KAAA,EAA0B;IAAA,IAAtBd,eAAe,GAAAc,KAAA,CAAfd,eAAe;IACxB,IAAI;MACA,IAAMC,QAAQ,SAASP,SAAS,CAACqB,cAAc,CAACF,EAAE,CAAC;MACnD,OAAOZ,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAY,gBAAA,EAAAC,qBAAA;MACZ,OAAOjB,eAAe,CAAC,EAAAgB,gBAAA,GAAAZ,KAAK,CAACH,QAAQ,sBAAAgB,qBAAA,GAAdD,gBAAA,CAAgBb,IAAI,qBAApBc,qBAAA,CAAsBb,KAAK,KAAI,8BAA8B,CAAC;IACzF;EACJ,CAAC;EAAA,iBAAAc,GAAA,EAAAC,GAAA;IAAA,OAAAP,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GACL,CAAC;AAED,IAAMU,WAAW,GAAG5B,WAAW,CAAC;EAC5B6B,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACVC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE,IAAI;IACjBC,QAAQ,EAAE,IAAI;IACdC,SAAS,EAAE,KAAK;IAChBtB,KAAK,EAAE,IAAI;IACXuB,UAAU,EAAE;EAChB,CAAC;EACDC,QAAQ,EAAE;IACNC,gBAAgB,EAAE,SAAlBA,gBAAgBA,CAAGC,KAAK,EAAK;MACzBA,KAAK,CAACN,WAAW,GAAG,IAAI;MACxBM,KAAK,CAACL,QAAQ,GAAG,IAAI;IACzB;EACJ,CAAC;EACDM,aAAa,EAAE,SAAfA,aAAaA,CAAGC,OAAO,EAAK;IACxBA,OAAO,CACFC,OAAO,CAACtC,UAAU,CAACuC,OAAO,EAAE,UAACJ,KAAK,EAAK;MACpCA,KAAK,CAACJ,SAAS,GAAG,IAAI;MACtBI,KAAK,CAAC1B,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CACD6B,OAAO,CAACtC,UAAU,CAACwC,SAAS,EAAE,UAACL,KAAK,EAAEM,MAAM,EAAK;MAC9CN,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACP,KAAK,GAAGa,MAAM,CAACC,OAAO,CAACd,KAAK;MAClCO,KAAK,CAACH,UAAU,GAAGS,MAAM,CAACC,OAAO,CAACV,UAAU;IAChD,CAAC,CAAC,CACDM,OAAO,CAACtC,UAAU,CAAC2C,QAAQ,EAAE,UAACR,KAAK,EAAEM,MAAM,EAAK;MAC7CN,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAAC1B,KAAK,GAAGgC,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC,CACDJ,OAAO,CAACtB,gBAAgB,CAACuB,OAAO,EAAE,UAACJ,KAAK,EAAK;MAC1CA,KAAK,CAACJ,SAAS,GAAG,IAAI;MACtBI,KAAK,CAAC1B,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CACD6B,OAAO,CAACtB,gBAAgB,CAACwB,SAAS,EAAE,UAACL,KAAK,EAAEM,MAAM,EAAK;MACpDN,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACN,WAAW,GAAGY,MAAM,CAACC,OAAO,CAACE,IAAI;MACvCT,KAAK,CAACL,QAAQ,GAAGW,MAAM,CAACC,OAAO,CAACZ,QAAQ;IAC5C,CAAC,CAAC,CACDQ,OAAO,CAACtB,gBAAgB,CAAC2B,QAAQ,EAAE,UAACR,KAAK,EAAEM,MAAM,EAAK;MACnDN,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAAC1B,KAAK,GAAGgC,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEK,IAAQR,gBAAgB,GAAKT,WAAW,CAACoB,OAAO,CAAxCX,gBAAgB;AAAyB,SAAAA,gBAAA;AACxD,eAAeT,WAAW,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}